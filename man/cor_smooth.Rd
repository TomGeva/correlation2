% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cor_smooth.R
\name{cor_smooth}
\alias{cor_smooth}
\alias{is.positive_definite}
\title{Smooth a non-positive definite correlation matrix to make it positive definite}
\usage{
cor_smooth(x, method = "psych", verbose = TRUE, ...)

is.positive_definite(x, tol = .Machine$double.eps, ...)
}
\arguments{
\item{x}{A correlation matrix.}

\item{method}{Smoothing method. Can be \code{psych} (will use \code{psych::cor.smooth()}), \code{hj} (Jorjani et al., 2003) or \code{lrs} (Schaeffer, 2014). For the two last, will use \code{mbend::bend()} (check its documentation for details).}

\item{verbose}{Set to \code{FALSE} to silence the function.}

\item{...}{Other arguments to be passed to or from other functions.}

\item{tol}{The minimum eigen values to be considered as acceptable.}
}
\description{
Make correlations positive definite using \code{psych::cor.smooth}. Note that this modifies the correlation values, and does \strong{not} recompute the remaining indices (p-values, confidence intervals, etc.). Thus, once you used \code{cor_smooth()}, any other indices becomes irrelevant.
}
\examples{
set.seed(1)
data <- cbind(mtcars,
              mtcars * matrix(rnorm(32 * 11, sd = 0.05), ncol=11),
              mtcars * matrix(rnorm(32 * 11, sd = 0.05), ncol=11),
              mtcars * -matrix(rnorm(32 * 11, sd = 0.01), ncol=11))
x <- correlation(data)
is.positive_definite(x)

cor_smooth(as.matrix(x))
}
